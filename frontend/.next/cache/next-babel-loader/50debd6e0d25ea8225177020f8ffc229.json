{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nvar _jsxFileName = \"/Users/charlescarrier/Dev/marylandLettersProject/frontend/pages/index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport fetch from \"isomorphic-unfetch\";\nimport { Fragment } from \"react\";\n\nvar Index = function Index(props) {\n  return __jsx(\"div\", {\n    className: \"container m-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 6\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: props.data\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 7\n    },\n    __self: this\n  }));\n}; // Index.getInitialProps = async () => {\n//   const response = await fetch(\"http://localhost:5500/api/letter/1\");\n//   const data = await response.json();\n//   let formattedData = data[0].text.replace(/\\r/g, '<p class=\"mb-2\"></p>');\n//   let formattedData2 = formattedData.replace(\n//     /\\t/g,\n//     '<span class=\"pl-4\"></span>'\n//   );\n//   return { data: formattedData2 };\n// };\n\n\nIndex.getInitialProps = function _callee() {\n  var response, data, textToArray, testText, testTextToArray, tab, lineBreak, openParagraph, i;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(fetch(\"http://localhost:5500/api/letter/1\"));\n\n        case 2:\n          response = _context.sent;\n          _context.next = 5;\n          return _regeneratorRuntime.awrap(response.json());\n\n        case 5:\n          data = _context.sent;\n          textToArray = data[0].text.split(\"\");\n          testText = '\\tMonday morning May 9\\rMrs. Jervis\\rDear Madam,\\rThe Dr. pronounced Mrs. Sullivan’s illness \"Gastric fever.” She has passed the crisis, but is still very feeble. Dr. Hines says she must not expect to get along very fast. We hope however that her convalescence will be continuous.\\rVery much obliged for what you sent over. With much regard\\r\\tTruly yours,\\r\\tJ. H. Sullivan';\n          testTextToArray = testText.split(\"\");\n          tab = /\\t/g;\n          lineBreak = /\\r/g;\n          openParagraph = false;\n\n          for (i = 0; i < testTextToArray.length; i++) {\n            if (testTextToArray[i].match(tab) && openParagraph == false) {\n              testTextToArray[i] = '<span class=\"pl-4\">'; // console.log(testTextToArray[i] + \"tab\");\n            } else if (testTextToArray[i].match(tab) && openParagraph == true) {\n              testTextToArray[i] = '</p><span class=\"pl-4\">';\n              openParagraph = false;\n            } else if (testTextToArray[i].match(lineBreak)) {\n              // textToArray[i - 1] = \"</span>\";\n              testTextToArray[i] = \"</span><p>\";\n              openParagraph = true; // console.log(testTextToArray[i] + \"lineBreak\");\n            }\n          }\n\n          console.log(testTextToArray);\n          return _context.abrupt(\"return\", {\n            data: data\n          });\n\n        case 15:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  });\n};\n\nexport default Index;","map":{"version":3,"sources":["/Users/charlescarrier/Dev/marylandLettersProject/frontend/pages/index.js"],"names":["fetch","Fragment","Index","props","__html","data","getInitialProps","response","json","textToArray","text","split","testText","testTextToArray","tab","lineBreak","openParagraph","i","length","match","console","log"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,oBAAlB;AACA,SAASC,QAAT,QAAyB,OAAzB;;AAEA,IAAMC,KAAK,GAAG,SAARA,KAAQ,CAAAC,KAAK,EAAI;AACrB,SACE;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,uBAAuB,EAAE;AAAEC,MAAAA,MAAM,EAAED,KAAK,CAACE;AAAhB,KAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF;AAcD,CAfD,C,CAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEAH,KAAK,CAACI,eAAN,GAAwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CACCN,KAAK,CAAC,oCAAD,CADN;;AAAA;AAChBO,UAAAA,QADgB;AAAA;AAAA,2CAEHA,QAAQ,CAACC,IAAT,EAFG;;AAAA;AAEhBH,UAAAA,IAFgB;AAGlBI,UAAAA,WAHkB,GAGJJ,IAAI,CAAC,CAAD,CAAJ,CAAQK,IAAR,CAAaC,KAAb,CAAmB,EAAnB,CAHI;AAIlBC,UAAAA,QAJkB,GAKpB,wXALoB;AAMlBC,UAAAA,eANkB,GAMAD,QAAQ,CAACD,KAAT,CAAe,EAAf,CANA;AAOhBG,UAAAA,GAPgB,GAOV,KAPU;AAQhBC,UAAAA,SARgB,GAQJ,KARI;AASlBC,UAAAA,aATkB,GASF,KATE;;AAUtB,eAASC,CAAT,GAAa,CAAb,EAAgBA,CAAC,GAAGJ,eAAe,CAACK,MAApC,EAA4CD,CAAC,EAA7C,EAAiD;AAC/C,gBAAIJ,eAAe,CAACI,CAAD,CAAf,CAAmBE,KAAnB,CAAyBL,GAAzB,KAAiCE,aAAa,IAAI,KAAtD,EAA6D;AAC3DH,cAAAA,eAAe,CAACI,CAAD,CAAf,GAAqB,qBAArB,CAD2D,CAE3D;AACD,aAHD,MAGO,IAAIJ,eAAe,CAACI,CAAD,CAAf,CAAmBE,KAAnB,CAAyBL,GAAzB,KAAiCE,aAAa,IAAI,IAAtD,EAA4D;AACjEH,cAAAA,eAAe,CAACI,CAAD,CAAf,GAAqB,yBAArB;AACAD,cAAAA,aAAa,GAAG,KAAhB;AACD,aAHM,MAGA,IAAIH,eAAe,CAACI,CAAD,CAAf,CAAmBE,KAAnB,CAAyBJ,SAAzB,CAAJ,EAAyC;AAC9C;AACAF,cAAAA,eAAe,CAACI,CAAD,CAAf,GAAqB,YAArB;AACAD,cAAAA,aAAa,GAAG,IAAhB,CAH8C,CAK9C;AACD;AACF;;AACDI,UAAAA,OAAO,CAACC,GAAR,CAAYR,eAAZ;AAzBsB,2CA0Bf;AAAER,YAAAA,IAAI,EAAEA;AAAR,WA1Be;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAxB;;AA6BA,eAAeH,KAAf","sourcesContent":["import fetch from \"isomorphic-unfetch\";\nimport { Fragment } from \"react\";\n\nconst Index = props => {\n  return (\n    <div className=\"container m-4\">\n      <div dangerouslySetInnerHTML={{ __html: props.data }} />\n      {/* {props.data.map(letter => {\n        return (\n          <div key={letter.letter_id}>\n            <p>{letter.text}</p>\n            <br />\n            <p>{letter.fromFirstName}</p>\n          </div>\n        );\n      })} */}\n    </div>\n  );\n};\n\n// Index.getInitialProps = async () => {\n//   const response = await fetch(\"http://localhost:5500/api/letter/1\");\n//   const data = await response.json();\n//   let formattedData = data[0].text.replace(/\\r/g, '<p class=\"mb-2\"></p>');\n//   let formattedData2 = formattedData.replace(\n//     /\\t/g,\n//     '<span class=\"pl-4\"></span>'\n//   );\n//   return { data: formattedData2 };\n// };\n\nIndex.getInitialProps = async () => {\n  const response = await fetch(\"http://localhost:5500/api/letter/1\");\n  const data = await response.json();\n  let textToArray = data[0].text.split(\"\");\n  let testText =\n    '\\tMonday morning May 9\\rMrs. Jervis\\rDear Madam,\\rThe Dr. pronounced Mrs. Sullivan’s illness \"Gastric fever.” She has passed the crisis, but is still very feeble. Dr. Hines says she must not expect to get along very fast. We hope however that her convalescence will be continuous.\\rVery much obliged for what you sent over. With much regard\\r\\tTruly yours,\\r\\tJ. H. Sullivan';\n  let testTextToArray = testText.split(\"\");\n  const tab = /\\t/g;\n  const lineBreak = /\\r/g;\n  let openParagraph = false;\n  for (let i = 0; i < testTextToArray.length; i++) {\n    if (testTextToArray[i].match(tab) && openParagraph == false) {\n      testTextToArray[i] = '<span class=\"pl-4\">';\n      // console.log(testTextToArray[i] + \"tab\");\n    } else if (testTextToArray[i].match(tab) && openParagraph == true) {\n      testTextToArray[i] = '</p><span class=\"pl-4\">';\n      openParagraph = false;\n    } else if (testTextToArray[i].match(lineBreak)) {\n      // textToArray[i - 1] = \"</span>\";\n      testTextToArray[i] = \"</span><p>\";\n      openParagraph = true;\n\n      // console.log(testTextToArray[i] + \"lineBreak\");\n    }\n  }\n  console.log(testTextToArray);\n  return { data: data };\n};\n\nexport default Index;\n"]},"metadata":{},"sourceType":"module"}